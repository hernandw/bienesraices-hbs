
<div class="py-10">
  <h1 class="my-10 text-4xl font-extrabold text-center">Raices
    <span class="font-normal">Sueños</span>
  </h1>
  <h2 class="text-center text-2xl font-extrabold">Editar Propiedad</h2>
  <div>
    {{#if errors}}
    <div class="max-w-md mx-auto my-4">
      {{#each errors}}
      <p class="bg-red-600 text-white uppercase font-bold text-xs p-2 rounded text-center mb-1">{{msg}}</p>
      {{/each}}
    </div>
    {{/if}}
  </div>
  <div class="bg-white shadow rounded mx-auto py-8 px-4 max-w-4xl my-10 md:px-10">
    <form class="space-y-5">
      <input type="hidden" id="id" name="id" value="{{old.id}}">
      <div class="space-y-5">
        <h3 class="text-lg leading-6 font-medium text-gray-900">Información
          General</h3>
        <p class="text-gray-600">Ingresa la información de tu propiedad</p>

        <div>
          <label class="block text-sm uppercase text-gray-500 mb-3 font-bold" for="title">Titulo de la
            propiedad:</label>
          <input class="w-full py-2 px-3 border border-gray-300 rounded-md placeholder-gray-400" type="text" id="title"
            placeholder="Titulo de la Propiedad, ej. Casa en la Playa" name="title" value="{{old.title}}" />
        </div>
        <div>
          <label class="block text-sm uppercase text-gray-500 mb-3 font-bold" for="description">Descripción:</label>

          <textarea name="description" id="description"
            class="w-full py-2 px-3 border border-gray-300 rounded-md placeholder-gray-400"
            placeholder="Descripción de la Propiedad">{{old.description}}</textarea>
        </div>
        <div class="md:flex md:gap-4 space-y-5 md:space-y-0">
          <div class="md:w-1/2">
            <label class="block text-sm uppercase text-gray-500 mb-3 font-bold" for="category">Categoria:</label>
            <select class="w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400" name="category"
              id="category">
              <option value="">-- Seleccione una --</option>
              {{#each categories}}
              <option value="{{this.id}}" {{#if (eq this.id ../old.category_id)}}selected{{/if}}>{{this.name}}</option>
              {{/each}}
            </select>
          </div>
          <div class="md:w-1/2">
            <label class="block text-sm uppercase text-gray-500 mb-3 font-bold" for="price">Precio:</label>
            <select class="w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400" name="price"
              id="price">
              <option value="">-- Seleccione una --</option>
              {{#each prices}}
              <option value="{{this.id}}" {{#if (eq this.id ../old.precio_id)}}selected{{/if}}>{{this.name}}</option>
              {{/each}}
            </select>
          </div>

        </div>
        <div class="md:flex md:gap-4 space-y-5 md:space-y-0">
          <div class="md:w-1/3">
            <label class="block text-sm uppercase text-gray-500 mb-3 font-bold" for="rooms">Habitaciones:</label>
            <select class="w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400" name="rooms"
              id="rooms" value="{{old.rooms}}">
              <option value="" disabled selected>-- Seleccione una --</option>
              {{#each rooms}}
              <option value="{{this}}" {{#if (eq this ../old.rooms)}}selected{{/if}}>{{this}}</option>
              {{/each}}
            </select>
          </div>
          <div class="md:w-1/3">
            <label class="block text-sm uppercase text-gray-500 mb-3 font-bold" for="parking">Estacionamiento:</label>
            <select class="w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400" name="parking"
              id="parking">
              <option value="" disabled selected>-- Seleccione una --</option>
              {{#each rooms}}
              <option value="{{this}}" {{#if (eq this ../old.parking)}}selected{{/if}}>{{this}}</option>
              {{/each}}
            </select>
          </div>
          <div class="md:w-1/3">
            <label class="block text-sm uppercase text-gray-500 mb-3 font-bold" for="wc">Baños:</label>
            <select class="w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400" name="wc" id="wc">
              <option value="" disabled selected>-- Seleccione una --</option>
              {{#each rooms}}
              <option value="{{this}}" {{#if (eq this ../old.wc)}}selected{{/if}}>{{this}}</option>
              {{/each}}
            </select>
          </div>

        </div>

      </div>
      <div class="border-gray-200 border-t-2 space-y-5">
        <h3 class="text-lg leading-6 font-medium text-gray-900 mt-4">Ubicación</h3>
        <p class="text-gray-600">Ubica la propiedad en el mapa</p>
      </div>
      <div id="map" class="w-full h-96"></div>
      <div>
        <p class="street">{{old.street}}</p>
      </div>
      <input class="border border-gray-300" type="hidden" name="street" id="street"
        value="{{#if old.street}}{{old.street}}{{else}}{{old.street  }}{{/if}}">
      <input class="border border-gray-300" type="hidden" name="lat" id="lat"
        value="{{#if old.lat}}{{old.lat}}{{else}}{{old.lat  }}{{/if}}">
      <input class="border border-gray-300" type="hidden" name="lng" id="lng" value="{{old.lng}}">


      <button type="submit"
        class="w-full bg-indigo-500 hover:bg-indigo-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-indigo-500 rounded mt-8">
        Actualizar Propiedad
      </button>


    </form>


  </div>
</div>



</div>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script src="https://unpkg.com/esri-leaflet@3.0.12/dist/esri-leaflet.js"></script>
<script src="https://unpkg.com/esri-leaflet-geocoder@3.1.4/dist/esri-leaflet-geocoder.js" crossorigin=""></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leatflet-geosearch/2.7.0/bundle.min.js"></script>


<script type="module" src="/js/app.js"></script>
<script type="module" src="/js/edit.js"></script>