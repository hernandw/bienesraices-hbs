<div class="py-10">
  <h1 class="my-10 text-4xl font-extrabold text-center">Raices
    <span class="font-normal">Sue√±os</span>
  </h1>
  <a href="/propiedades/crear"
    class="rounded-md bg-indigo-600 text-white uppercase font-bold text-sm py-2 px-10 text-center hover:bg-indigo-700 transition-colors w-full sm:w-auto inline-block mb-5">Publicar
    Propiedad</a>
  {{#if propiedades}}


  <div class="bg-white shadow rounded-lg">
    <ul class="divide-y divide-gray-200">
      {{#each propiedades}}
      <li>
        <div
          class="p-6 w-full flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-8 gap-4 md:space-y-0">
          <div class="sm:w-1/4 md:w-1/6">
            <img class="w-full block" src="{{this.image}}" alt="imagen propiedad {{this.title}}">
          </div>

          <div class="sm:w-2/4 md:w-3/6 lg:w-4/6 space-y-3">
            <a href="/propiedades/{{this.id}}"
              class="block text-2xl font-extrabold text-indigo-600 truncate">{{this.title}}</a>
            <p class="text-sm text-black font-bold">{{this.categoria}}</p>
            <p class="text-sm text-gray-500 font-bold flex items-center"><svg xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
              </svg>
              {{this.precio}}</p>

          </div>
          <div
            class="sm:w-1/4 md:w-2/6 lg:flex-1 flex flex-col md:flex-row md:justify-between md:items-center gap-4 text-center">
            <form>
              <input type="submit" value={{#if this.published}}Publicado{{else}}'No publicado'{{/if}}
                class="w-full px-2 py-2 md:py-1 text-xs leading-5 font-semibold rounded cursor-pointer {{#if this.published}}bg-green-100 text-green-700{{else}}bg-yellow-100 text-yellow-700{{/if}}">
            </form>
            <a href="/propiedades/edit/{{this.id}}"
              class="w-full px-2 py-2 md:py-1 text-xs leading-5 font-semibold rounded cursor-pointer bg-indigo-100 text-indigo-700">Editar</a>

            <form action="/propiedades/delete/{{this.id}}" method="POST">
              <button type="submit"
                class="w-full px-2 py-2 md:py-1 text-xs leading-5 font-semibold rounded cursor-pointer bg-red-100 text-red-700">Eliminar</button>
            </form>




          </div>
        </div>
      </li>
      {{/each}}

    </ul>

  </div>
  <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
    <div class="flex-1 flex justify-between sm:hidden">
      <input id="page" type="hidden" name="page" value={{page}}>
      <input id="paginas" type="hidden" name="paginas" value={{totalPages}}>
      {{#if (eq page 1)}}<a class="none" id="prev"></a> {{else}}<a id="prev"
        class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"
        href="/propiedades?page={{rest page 1}}">Anterior</a>{{/if}}
      {{#if (eq totalPages page)}} {{else}}<a id="next"
        class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"
        href="/propiedades?page={{sum page 1}}">Siguiente</a>{{/if}}

    </div>

    <div class="hidden sm:block sm:flex-1 sm:flex sm:items-center sm:justify-between">

      <p class="text-sm text-gray-700 gap-2">Mostrando
        <span class="font-medium">{{startIndex}}</span> a

        <span class="font-medium">{{compare total endIndex}}</span> de
        <span class="font-medium">{{total}}</span>

    </div>
    <div class="hidden sm:block">
      <nav class="relative z-0 inline-flex rounded-md shadow-md" aria-label="Pagination">
        {{#each paginas}}
        <a href="/propiedades?page={{this}}"
          class="{{#if (eq this ../page) }} text-indigo-600 bg-indigo-50  border-indigo-500 {{else}} bg-white border-gray-500 hover:bg-gray-50 {{/if}}  relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"
          aria-current="page">{{this}}</a>
        {{/each}}


      </nav>
    </div>
  </div>
  {{else}}
  <p class="text-center">No hay propiedades</p>

  {{/if}}

</div>